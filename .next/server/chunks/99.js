"use strict";exports.id=99,exports.ids=[99],exports.modules={4916:(e,s,t)=>{t.d(s,{default:()=>b});var r=t(326),a=t(7577),n=t(9436),l=t(3685),m=t(4019),i=t(7939);let d="https://qncljsxdjefkimfxdzuf.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuY2xqc3hkamVma2ltZnhkenVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxOTUzNDksImV4cCI6MjA3Mzc3MTM0OX0.5kDKYySmj8W9DHjT--tLW2nL6wgC0Kwj8QuOD1u43hg",c=!!(d&&o&&d.startsWith("https://")&&d.includes("supabase.co")&&o.length>20),u=c?(0,i.eI)(d,o,{auth:{persistSession:!1},realtime:{params:{eventsPerSecond:10}}}):null;async function x(e){if(!u||!c)return console.log("Supabase not configured, simulating form submission"),{success:!0,message:"Form submitted (mock)"};try{let{data:s,error:t}=await u.from("leads").insert([{firstname:e.firstName,lastname:e.lastName,email:e.email,phone:e.phone||null,city:e.city||null,topic:e.topic,message:e.message}]);if(t)throw console.error("Error submitting contact form:",t),t;return s}catch(e){throw console.error("Network error submitting contact form:",e),e}}function b(){let[e,s]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",subject:"",message:"",consent:!1}),[t,i]=(0,a.useState)([]),[d,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)("idle"),b=e=>{let{name:t,value:r,type:a}=e.target;s(s=>({...s,[t]:"checkbox"===a?e.target.checked:r}))},h=e=>{i(s=>s.filter((s,t)=>t!==e))},p=async t=>{t.preventDefault(),o(!0);try{await x({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,topic:e.subject,message:e.message}),u("success"),s({firstName:"",lastName:"",email:"",phone:"",subject:"",message:"",consent:!1}),i([])}catch(e){console.error("Error submitting form:",e),u("error")}finally{o(!1)}};return"success"===c?(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(n.Z,{className:"w-6 h-6 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Message envoy\xe9"}),r.jsx("p",{className:"text-green-700",children:"Votre demande a \xe9t\xe9 transmise avec succ\xe8s. Nous vous recontacterons dans les plus brefs d\xe9lais."})]}):(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4 md:space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Pr\xe9nom *"}),r.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,value:e.firstName,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm md:text-base"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Nom *"}),r.jsx("input",{type:"text",id:"lastName",name:"lastName",required:!0,value:e.lastName,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm md:text-base"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Email *"}),r.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm md:text-base"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"T\xe9l\xe9phone"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm md:text-base"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"subject",className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Motif de votre demande *"}),(0,r.jsxs)("select",{id:"subject",name:"subject",required:!0,value:e.subject,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm md:text-base",children:[r.jsx("option",{value:"",children:"S\xe9lectionnez un motif"}),r.jsx("option",{value:"accident-route",children:"Accident de la route"}),r.jsx("option",{value:"accident-medical",children:"Accident m\xe9dical"}),r.jsx("option",{value:"agression",children:"Agression"}),r.jsx("option",{value:"accident-vie",children:"Accident de la vie"}),r.jsx("option",{value:"autre",children:"Autre"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Votre message *"}),r.jsx("textarea",{id:"message",name:"message",required:!0,rows:4,value:e.message,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm md:text-base",placeholder:"D\xe9crivez bri\xe8vement votre situation..."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Pi\xe8ces jointes (optionnel)"}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 md:p-4",children:[r.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{if(e.target.files){let s=Array.from(e.target.files);i(e=>[...e,...s])}},className:"hidden",id:"file-upload"}),(0,r.jsxs)("label",{htmlFor:"file-upload",className:"flex flex-col items-center cursor-pointer",children:[r.jsx(l.Z,{className:"w-6 h-6 md:w-8 md:h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-600 text-center",children:"Cliquez pour ajouter des fichiers (PDF, JPG, PNG)"})]})]}),t.length>0&&r.jsx("div",{className:"mt-2 space-y-1 md:space-y-2",children:t.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-xs md:text-sm",children:[r.jsx("span",{className:"text-gray-700 truncate mr-2",children:e.name}),r.jsx("button",{type:"button",onClick:()=>h(s),className:"text-red-500 hover:text-red-700 flex-shrink-0",children:r.jsx(m.Z,{className:"w-3 h-3 md:w-4 md:h-4"})})]},s))})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-2 md:space-x-3",children:[r.jsx("input",{type:"checkbox",id:"consent",name:"consent",required:!0,checked:e.consent,onChange:b,className:"mt-1 h-3 w-3 md:h-4 md:w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded flex-shrink-0"}),(0,r.jsxs)("label",{htmlFor:"consent",className:"text-xs md:text-sm text-gray-700 leading-relaxed",children:["J'accepte que mes donn\xe9es personnelles soient trait\xe9es conform\xe9ment \xe0 la"," ",r.jsx("a",{href:"/politique-confidentialite",className:"text-amber-600 hover:underline",children:"politique de confidentialit\xe9"})," ","du cabinet. *"]})]}),r.jsx("button",{type:"submit",disabled:d,className:"w-full bg-amber-600 text-white py-3 px-4 md:px-6 rounded-lg hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 text-sm md:text-base font-medium",children:d?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 md:h-5 md:w-5 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.Z,{className:"w-4 h-4 md:w-5 md:h-5"}),r.jsx("span",{children:"Envoyer ma demande"})]})}),"error"===c&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 md:p-4 text-red-700 text-sm",children:"Une erreur est survenue lors de l'envoi. Veuillez r\xe9essayer."})]})}},642:(e,s,t)=>{t.d(s,{Z:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/jordanchekroun/Documents/2- Professionnel/6- 2025/5- WebFitYou/1- Clients/2025/3- Me Laura Baron/project/src/components/forms/ContactForm.tsx#default`)}};